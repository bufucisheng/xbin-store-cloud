/* user-passport/1.0.0 login.submit-1130.js Date:2016-12-08 17:03:09 */
define("js2/login.submit-1130.js",["js2/login.status.js","js2/login.message.js","js2/login.pubSub.js","js2/login.countrycode-1130.js"],function(require){var c=require("js2/login.status.js");var d=require("js2/login.message.js");require("js2/login.pubSub.js");require("js2/login.countrycode-1130.js");var g={elelist:{nameEle:$("#loginname"),pwdEle:$("#nloginpwd"),authEle:$("#authcode")},clear:function(){$("#o-authcode, #entry, .item-fore1").removeClass("item-error item-focus")},showError:function(a,b,c){var d='<div class="msg-warn"><b></b>'+a+"</div>";var e='<div class="msg-error"><b></b>'+a+"</div>";$("#chkOpenCtrl").prop("checked");"warn"==b&&($(".msg-wrap .msg-error").hide(),$(".msg-wrap .msg-warn").replaceWith(d)),"error"==b&&($(".msg-wrap .msg-warn").hide(),$(".msg-wrap .msg-error").replaceWith(e)),g.clear();for(var h=0;h<c.length;h++)$(c[h]).parent().addClass("item-error")},validateAll:function(){var b=$.trim(this.elelist.nameEle.val());var e=$.trim(this.elelist.pwdEle.val());var f="undefined"!=typeof pgeditor&&pgeditor.pwdResult();var g="undefined"!=typeof pgeditor&&pgeditor.checkInstall();var h=$(".safe-chk").prop("checked");var i=$("#o-authcode").is(":visible");var j=$.trim($("#authcode").val());return this.clear(),b.length||e.length||h?!b.length&&g&&!f.length&&h?void c.onError(d.NAME_PASSWORD_EMPTY,[this.elelist.nameEle,this.elelist.pwdEle]):b.length?e.length||h?i&&!j.length?void c.onError(d.AUTHCODE_EMPTY,this.elelist.authEle):(assemblyForm(),void loginSubmit(this.showError)):void c.onError(d.PASSWORD_EMPTY,this.elelist.pwdEle):void c.onError(d.NAME_EMPTY,this.elelist.nameEle):void c.onError(d.NAME_PASSWORD_EMPTY,[this.elelist.nameEle,this.elelist.pwdEle])},init:function(){var a=this;$("#loginsubmit").bind("click",function(){a.validateAll.call(a)}),$("#loginname, #nloginpwd, #authcode").bind("keyup",function(a){13!=a.keyCode||$(".sugcontent li").length||$("#loginsubmit").click()}),$(".login-form").delegate("#country_code_selector","hover",function(){$("#focus").show()},function(){$("#focus").hide()})}};return g.init()});
