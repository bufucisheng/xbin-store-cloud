/*!Name: ETooltips.js
 * Date: 2016-3-17 18:29:20 */
!function(t,i,s){"use strict";function e(i,s){this.$el=i,this.settings=t.extend(!0,{},l,s),this._defaults=l,this._name=o,this._version=n,this._uid=this.$el.data("Eguid"),this.init()}var o="ETooltips",n="@VERSION",l={event:"mouseover",pos:"right",close:!1,width:null,content:null,id:"ETooltips-{uid}",x:0,y:0,zIndex:null,rmTitle:!0,template:'        <div class="ETooltips ETooltips-{pos}">            <div class="arrow"></div>            <div class="close" data-tooltips="close" style="display:none;">&times;</div>            <div class="content" data-tooltips="content">{content}</div>        </div>',selector:{trigger:'[data-role="tooltips"]',content:'[data-tooltips="content"]',close:'[data-tooltips="close"]'}};e.prototype={init:function(){this.bindEvent(),this.insertTooltips()},bindEvent:function(){var i=this,e=t(s),o=["mouseenter",this._name].join("."),n=["mouseleave",this._name].join(".");this.$el.unbind(o).bind(o,function(){i.calPos(),i.$tooltips.show()}),this.$el.unbind(n).bind(n,function(){i.$tooltips.hide()});var l=["click",this._name,this._uid].join(".");e.undelegate(l).delegate(this.settings.selector.close,l,function(){i.$tooltips.hide()})},calPos:function(){var s=this.$el.offset().top,e=this.$el.offset().left,o=this.$el.outerWidth(),n=this.$el.outerHeight(),l=t(i).width(),h=5,d=this.settings,a=0;switch(d.pos){case"top":s=s+d.y-this.height-h,e+=d.x;break;case"right":s+=d.y,e=e+d.x+o+h;break;case"bottom":s=s+d.y+n+h,e+=d.x;break;case"left":s+=d.y,e=e+d.x-this.width-h;break;default:throw new Error("[Pos]ition not given.")}a=e+d.width-l,a>0&&(e-=.8*d.width),this.$tooltips.toggleClass("ETooltips-opposite",a>0),this.$tooltips.css({top:s,left:e})},insertTooltips:function(){var i=this.settings,s=this.settings.id.replace("{uid}",this._uid),e=t("#"+s);if(e.length)return!1;var o=i.content||this.$el.attr("title")||"[error] title or content not given.",n=i.template.replace("{pos}",i.pos).replace("{content}",o);this.$tooltips=t(n),this.$tooltips.attr("id",s),t("body").append(this.$tooltips),i.close&&this.$tooltips.find(i.selector.close).show(),i.rmTitle&&this.$el.removeAttr("title");var l={};i.width&&(l.width=i.width),i.zIndex&&(l["z-index"]=i.zIndex),this.$tooltips.css(l),this.width=this.$tooltips.outerWidth(),this.height=this.$tooltips.outerHeight()},setContnet:function(t){this.$tooltips.find(this.settings.selector.content).html(t)}},t.fn[o+"_guid"]=0,t.fn[o]=function(i){return this.length?this.each(function(){t(this).data("Eguid",t.fn[o+"_guid"]++);var s=new e(t(this),i);t(this).data(o)||t(this).data(o,s)}):(console.log("\u300c"+o+"\u300d The elements["+this.selector+"] you passed is empty."),this)}}(jQuery,window,document);
