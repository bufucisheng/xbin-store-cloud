/*!Name: commitments.js
 * Date: 2017-2-14 17:14:16 */
define("MOD_ROOT/js/commitments",function(require,exports,module){function t(t){new n(t.skuid)}var s=require("MOD_ROOT/js/core"),e='        <i class="sprite-arrow"></i>        <div class="sprite-heartPic"></div>        <p>\u5546\u5bb6\u627f\u8bfa\u201c\u7231\u5fc3\u4e1c\u4e1c\u201d\u6bcf\u6210\u4ea4\u4e00\u7b14\uff0c\u5c06\u8be5\u5546\u54c1\u5b9e\u4ed8\u91d1\u989d\u7684<strong>${donateRate}%</strong>\u6350\u8d60\u7ed9\u516c\u76ca\u9879\u76ee<strong>${name}</strong>\u3002</p>        <a href="${webUrl}" target="_blank">\u8be6\u7ec6 &gt;&gt;</a>',n=function(t){this.init(t)};n.prototype={$el:$("#commitments"),init:function(t){this.sku=t,s.onAttr("isCare")&&(this.addEvents(),this.loadCare())},addEvents:function(){var t=this,s=t.$el.find(".heart");s.hover(function(){$(this).addClass("heart-hover")},function(){$(this).removeClass("heart-hover")})},loadCare:function(){var t=this;$.ajax({url:"http://c.3.cn/loveProject/"+t.sku,dataType:"jsonp",scriptCharset:"gbk",success:function(s){s.name&&s.webUrl&&require.async(["MOD_ROOT/css/commitments.css"],function(){t.$el.find(".heart .commitments-tips").html(e.process(s)),t.$el.show()})}})}},module.exports.__id="commitments",module.exports.init=t});