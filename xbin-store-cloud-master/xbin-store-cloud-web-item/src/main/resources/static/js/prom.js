/*!Name: prom.js
 * Date: 2017-2-14 17:14:17 */
define("MOD_ROOT/js/prom",function(require,exports,module){function t(){var t=$(".J-yijia a");pageConfig.product.havestock||p.itemDisabled?t.show():t.hide()}function e(t){function e(e){var o=e.price;if(/debug=plus/.test(location.href)&&(o.pp="10.10"),o.pp||o.tpp){var n="\uffe5"+(o.pp||o.tpp);(o.pp<=0||o.tpp<=0)&&(n="\u6682\u65e0\u62a5\u4ef7"),$(".J-p-p-"+t.skuid).text(n),i.show()}else i.hide()}var i=$(".J-plus-price");m.addListener("onPriceReady",e)}function i(t){function e(){var t="\u5c71\u59c6\u4f1a\u5458\u5e97\u662f\u6c83\u5c14\u739b\u65d7\u4e0b\u7684\u9ad8\u7aef\u4f1a\u5458\u5236\u5546\u5e97\uff0c\u5c06\u5c71\u59c6\u4f1a\u5458\u5361\u4e0e\u4eac\u4e1c\u8d26\u53f7\u7ed1\u5b9a\u540e\uff0c\u5373\u53ef\u5728\u5c71\u59c6\u4f1a\u5458\u5546\u5e97\u5b98\u65b9\u65d7\u8230\u5e97\u4eab\u53d7\u4f1a\u5458\u4ef7\u8d2d\u4e70\u5546\u54c1";o.find("i").length&&o.find("i").ETooltips({close:!1,content:t,width:230,pos:"bottom",zIndex:10})}function i(i){var n=i.price;if(n.sp&&!isNaN(n.sp)){var s="\uffe5"+n.sp;n.sp<=0&&(s="\u6682\u65e0\u62a5\u4ef7"),$(".J-p-s-"+t.skuid).text(s),e(),o.show()}else o.hide()}var o=$(".J-sam-price");m.addListener("onPriceReady",i)}function o(t){function e(t,e,i){if(t.length){var o=t.find(".activity-message"),n=e>0,s=i>0,a=n?"seckill":"seckilling";if(t.addClass(a).find("i").addClass("sprite-"+a),n){var m="\u9884\u8ba1{0}\u6708{1}\u65e5{2}:{3}\u5f00\u59cb",d=new Date(e),c=new Date;t.show(),c.getFullYear()==d.getFullYear()&&c.getMonth()==d.getMonth()&&c.getDate()==d.getDate()&&(m="\u9884\u8ba1{2}:{3}\u5f00\u59cb"),o.html(m.format(d.getMonth()+1,d.getDate(),r.prefix(2,d.getHours()),r.prefix(2,d.getMinutes())))}else s?(t.show(),p.Countdown.init(i/1e3,function(t){var e=["\u8ddd\u79bb\u7ed3\u675f"];t.d>0&&e.push("<span>"+t.d+"</span>\u5929"),e.push("<span>"+r.prefix(2,t.h)+"</span>"),e.push(":<span>"+r.prefix(2,t.m)+"</span>"),e.push(":<span>"+r.prefix(2,t.s)+"</span>"),o.html(e.join(""))})):(t.hide(),t.remove())}}e($("#banner-miaosha"),t.koBeginTime,t.koEndOffset),e($("#banner-shangou"),t.fsBeginTime,t.fsEndOffset)}function n(n){n.isFeeType||m.addListener("onStockReady",function(){c.init()}),i(n),e(n),h(n),5276!=n.cat[1]&&u(n),f(n),g(n),m.addListener("onStockReady",t),o(n)}var s=require("MOD_ROOT/js/gift"),a=require("MOD_ROOT/js/lazyinit"),r=require("MOD_ROOT/js/tools"),m=require("MOD_ROOT/js/event").Event,p=require("MOD_ROOT/js/core"),d=require("MOD_ROOT/js/verify");require("JDF_UNIT/js/json"),require("JDF_UNIT/js/trimPath"),require("MOD_ROOT/js/ETooltips");var c={init:function(t,e){return this.sku=t||pageConfig.product.skuid,this.shopId=pageConfig.product.shopId,this.venderId=pageConfig.product.venderId,this.ipLoc=r.getAreaId().areaIds.join("_"),this.$el=$("#summary-promotion"),this.$prom=$("#prom"),this.$promOne=$("#prom-one"),this.$gift=$("#prom-gift"),this.$fj=$("#choose-additional"),this.$darkBgEl=$("#J-summary-top"),this.$promPhone=$("#prom-phone"),this.$wrap=this.$el.find(".J-prom-wrap"),this.$moreProm=this.$wrap.find(".J-prom-more"),this.qrcodeLoaded=!1,this.promCount=0,this.maxPromCount=2,this.hasBvalue=pageConfig.product.proms&&pageConfig.product.proms.length>0,this.hasBvalue&&(this.promCount+=pageConfig.product.proms.length),"undefined"==typeof e&&(this.get(),this.$prom.html(""),this.$promPhone.html("")),this},get:function(){var t=this;$.ajax({url:"//cd.jd.com/promotion/v2",data:{skuId:this.sku,area:this.ipLoc,shopId:this.shopId,venderId:this.venderId,cat:pageConfig.product.cat.join(",")},dataType:"jsonp",scriptCharset:"gbk",success:function(e){t.handleData(e)}})},handleData:function(t){var e="";if(200===t.promStatus){var i=t.prom;/debug=mpt/.test(location.href)&&(i={mpt:"1477756980"},this.initMBuy(t,199)),i.mpt&&this.handleMBuy(t),i.tags&&i.tags.length?this.setPromotion(i.tags):this.emptyGift(),i.pickOneTag&&i.pickOneTag.length&&(e=this.setOnePromotion(i.pickOneTag)),i.packing&&i.packing.length&&this.setPackages(i),i.accessories&&i.accessories.length&&this.setAccessories(i),i.giftPool&&this.setGiftPool(i),/debug=sjgo/.test(location.href)&&(i.sjgo={url:"//channel.jd.com/sjgo.html",targetId:"123456"}),i.sjgo?this.setSJG(i.sjgo):$("#jjg-sjgo").remove(),(p.isPop||i.bargaining)&&this.setYiJia(i.bargaining)}200===t.adsStatus&&this.setAdWords(t.ads),200===t.quanStatus&&this.setExtraPromotions(t.quan),t.skuCoupon&&this.setSkuCoupon(t),e&&this.setPickOneTip(e),this.setFoldLayer(),m.fire({type:"onPromReady",prom:t.prom})},setSJG:function(t){function e(t){var e=pageConfig.giftSelectedSkuids?pageConfig.giftSelectedSkuids.join(","):"";return t.url+"?"+$.param({pid:pageConfig.product.skuid,pcount:$("#buy-num").val(),targetId:t.targetId,ptype:13,gids:e})}function i(){pageConfig.product.havestock?r.show():r.hide()}function o(){num=$("#buy-num").val();var t=r.find("a"),e=t.attr("href");t.attr("href",e.replace(/(nums|pcount|buyNum)=\d+/g,"$1="+num))}var n=$(".itemInfo-wrap"),s=e(t),a='            <div id="jjg-sjgo" style="clear:both;padding-left:10px;display:none" clstag="shangpin|keycount|product|3chuodongbanner">                <a target="_blank" style="display:inline;" href="'+s+'">                    <img width="360" height="61" src="//img13.360buyimg.com/da/jfs/t2656/312/1769527897/13223/587f8601/574693acNa9a3ef54.png" >                </a>            </div>';if(!$("#jjg-sjgo").length){n.append(a);var r=$("#jjg-sjgo");i(),m.addListener("onStockReady",i),m.addListener("onNumChange",o),m.addListener("onGiftSelected",function(){r.find("a").attr("href",e(t))})}},setGiftPool:function(t){s&&s.init(t)},setSkuCoupon:function(t){var e='            <div class="dt">\u9886\u3000\u3000\u5238</div>            <div class="dd">                <dl>                    <dt class="fl"></dt>                    <dd class="lh">                        <a class="J-open-tb" href="#none"                             title="${skuCoupon[0].name} ${skuCoupon[0].timeDesc}">                            {var len = skuCoupon.length}                            {for item in skuCoupon}                                {if item_index < 3}                                <span class="quan-item">                                    <s></s><b></b>                                    <span class="text">\u6ee1${item.quota}\u51cf${item.discount}</span>                                </span>                                {/if}                            {/for}                            {if len>=3}<span class="more-btn">\u66f4\u591a>></span>{/if}                        </a>                    </dd>                </dl>            </div>';if(t&&t.skuCoupon&&t.skuCoupon.length){var i=$("#summary-quan");i.html(e.process(t)).show(),i.find(".J-open-tb").unbind().bind("click",function(){return pageConfig.toolbar.$trigger.filter("[data-name=coupon]").trigger("click"),!1})}},setYiJia:function(t){function e(t){var e="<ul>                <li>1\u3001\u780d\u4ef7\u662f\u9488\u5bf9\u6709\u201c\u53bb\u780d\u4ef7\u201d\u6807\u7b7e\u7684\u5546\u54c1\u8fdb\u884c\u7684\u4ea4\u6613\uff0c\u65e0\u201c\u53bb\u780d\u4ef7\u201d\u6807\u7b7e\u5546\u54c1\u4e0d\u53c2\u4e0e\u780d\u4ef7\uff1b</li>                <li>2\u3001\u53ef\u901a\u8fc7\u70b9\u51fb\u201c\u53bb\u780d\u4ef7\u201d\u6807\u8bc6\u54a8\u8be2\u5728\u7ebf\u5ba2\u670d\u6216\u8005JIMI\u673a\u5668\u4eba\u53c2\u4e0e\u780d\u4ef7\uff1b</li>                <li>3\u3001\u780d\u4ef7\u6210\u529f\u540e\uff0c\u8bf7\u60a8\u5728\u534a\u4e2a\u5c0f\u65f6\u5185\u8fdb\u884c\u4e0b\u5355\u5b8c\u6210\u7ed3\u7b97\uff0c\u5426\u5219\u780d\u4ef7\u5c06\u5931\u6548\u3002</li>                </ul>";p.isPop&&(e="<ul>                    <li>1\u3001\u780d\u4ef7\u662f\u9488\u5bf9\u6709\u201c\u53bb\u780d\u4ef7\u201d\u6807\u7b7e\u7684\u5546\u54c1\u8fdb\u884c\u7684\u4ea4\u6613\uff0c\u65e0\u201c\u53bb\u780d\u4ef7\u201d\u6807\u7b7e\u5546\u54c1\u4e0d\u53c2\u4e0e\u780d\u4ef7\uff1b</li>                    <li>2\u3001\u53ef\u901a\u8fc7\u70b9\u51fb\u201c\u53bb\u780d\u4ef7\u201d\u6807\u7b7e\uff0c\u4e0e\u5728\u7ebf\u5ba2\u670d\u8fdb\u884c\u6c9f\u901a\u53c2\u4e0e\u780d\u4ef7\uff1b</li>                    <li>3\u3001\u6b64\u5546\u54c1\u780d\u4ef7\u65b9\u5f0f\u8bf7\u4e0e\u5ba2\u670d\u540c\u5b66\u786e\u8ba4\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4f18\u60e0\u5238\u7b49\u65b9\u5f0f\u3002</li>                    </ul>"),t.find(".hy-btype-tips").ETooltips({close:!1,content:e,width:270,pos:"bottom",zIndex:10,x:-7})}function i(){var t=pageConfig.IMContact.$el.find("[data-seller]"),e=t.attr("data-domain");p.isPop?pageConfig.IMContact.open(e,{entry:"pop_web_itemkanjia",venderId:pageConfig.product.venderId||0}):window.open("//jimi.jd.com/index.action?source=webproductkanjia&c3="+pageConfig.product.cat[2]+"&productId="+pageConfig.product.skuid,"\u54a8\u8be2jimi")}var o=$(".J-yijia");return o.length?void(p.isPop||t?(o.show().find("a").eq(0).unbind("click").bind("click",i),e(o)):o.hide()):(o.hide(),!1)},showJiaDianQuan:function(){var t=$("#summary-jiadian-quan");t.length>0&&(t.show(),$("body").addClass("lingquan"))},setTuanCD:function(t){var e=$("#tuan-banner .time-remain"),i=e.find(".J-tuan-cd");t.tr&&(t=Number(t.tr),t>0&&(e.show(),p.Countdown.init(t,function(t){i.html(t.d+"\u5929"+t.h+"\u65f6"+t.m+"\u5206"+t.s+"\u79d2")})))},setPromotion:function(t){for(var e=[],i=t.length,o=null,n=0;i>n;n++){var s=t[n];"20"===s.code&&this.setTuanCD(s),"10"===s.code?o=s:e.push(s)}o?this.renderGift(o):this.emptyGift(),this.setProm({proms:e,len:i},this.$prom)},emptyGift:function(){this.$gift.html("").hide()},setOnePromotion:function(t){function e(t){for(var e=[],i={},o=0;o<t.length;o++)i[t[o]]||(e.push(t[o]),i[t[o]]=1);return e}var i=[],o="";i=i.concat(t);for(var n=[],s=0;s<i.length;s++)"\u6d3b\u52a8\u9884\u544a"!=i[s].name&&n.push("\u201c"+i[s].name+"\u201d");return n.length>1&&(o=e(n).join(" ")+" \u4ec5\u53ef\u5728\u8d2d\u7269\u8f66\u4efb\u9009\u5176\u4e00"),this.setProm({proms:i,len:t.length},this.$promOne),o},setAdWords:function(t){if(t&&t.length&&t[0].ad){$("#p-ad").html(t[0].ad).show();var e=t[0].ad.replace(/<.*?>/g,"");$("#p-ad").attr("title",e)}},setPackages:function(t){var e="            {for fj in packing}                <li>${fj.nm} \xd7 ${fj.num}</li>            {/for}",i=$("#product-fj");i.length||($("#product-detail-3").append('<div id="product-fj"></div>'),i=$("#product-fj")),i.html(e.process(t))},setAccessories:function(t){var e='            <div class="dt">\u9644&#12288;&#12288;\u4ef6\uff1a</div>            <div class="dd">                <ul class="product-additional">                    {for fj in accessories}                    <li>                        <a target="_blank" href="//item.jd.com/${fj.sid}.html">                            {if fj.mp}                            <img src="${pageConfig.FN_GetImageDomain(fj.sid)}n5/${fj.mp}" width="25" height="25" class="gift-img">                            {else}                            <img src="//img13.360buyimg.com/da/jfs/t1018/333/196988437/1095/5de66ed7/550948a4N55886e95.png" width="25" height="25" class="gift-img">                            {/if}                            <span class="name" title="${fj.name}">${fj.nm}</span>                            <span class="number"> x <em>${fj.num}</em></span>                        </a>                    </li>                    {/for}                </ul>            </div>';this.$fj.html(e.process(t)).show()},setExtraPromotions:function(t){var e=this,i=$("#prom-quan"),o='&nbsp;<a href="{href}" target="_blank">\u8be6\u60c5 <s class="s-arrow">&gt;&gt;</s></a>';return t&&t.title?(o=t.actUrl?o.replace("{href}",t.actUrl):"",i.html('<div class="J-prom-quan prom-quan"><em class="hl_red_bg">\u6ee1\u989d\u8fd4\u5238</em><em class="hl_red">'+t.title+"</em>"+o+"</div>"),e.$el.show(),e.promCount++,void e.setFoldLayer()):void i.html("")},renderGift:function(t){var e='            <div class="J-prom-gift">                <div class="prom-gifts clearfix">                    <span class="prom-gift-label"><em class="hl_red_bg">${name}</em></span>                    <div class="prom-gift-list">                        {for item in gifts}                        <div class="prom-gift-item" data-count="${pageConfig.isGiftProm = true}">                            <a target="_blank" href="//item.jd.com/${item.sid}.html" title="${item.nm}">                                {if item.mp}                                <img src="${pageConfig.FN_GetImageDomain(item.sid)}n1/s25x25_${item.mp}" width="25" height="25" class="gift-img">                                {else}                                <img src="//img30.360buyimg.com/da/jfs/t1264/236/181850154/1105/14bba6c8/5509488cN2093c2a9.png" width="25" height="25" class="gift-img">                                {/if}                            </a>                            <em class="gift-number">\xd7 ${item.num}</em>                        </div>                        {/for}                        <div class="J-gift-limit gift-limit">${content}</div>                    </div>                </div>            </div>',i=e.process(t),o=i.match(/\[ERROR:.+\]/g);o&&o[0]&&(console.error("[prom gift]Template Rendering error.\n"),console.error(o[0])),this.$gift.html(i).show()},setProm:function(t,e){var i='            <div class="J-prom">                {for prom in proms}                <div class="prom-item" data-code="${prom.code}">                    {if prom.name}<em class="hl_red_bg">${prom.name}</em>{/if}                    <em class="hl_red">{if prom.tips}<i class="sprite-tips"></i>{/if}${prom.content}</em>                    {if prom.adurl}                    <a href="${prom.adurl}" target="_blank">                        &nbsp;&nbsp;\u8be6\u60c5 <s class="s-arrow">&gt;&gt;</s>                    </a>                    {/if}                    {if prom.link}${prom.link}{/if}                </div>                {/for}            </div>',o=i.process(t),n=o.match(/\[ERROR:.+\]/g);n&&n[0]&&(console.error("[prom item]Template Rendering error.\n"),console.error(n[0])),this.promCount+=t.len,e.html(o)},setPickOneTip:function(t){var e=$("#pickOneTip");e.length>0&&e.remove(),this.$el.find(".p-promotions").append('<ins id="pickOneTip"><em class="hl_red"><i class="sprite-tips"></i>'+t+"</em></ins>")},loadQrcode:function(t){require.async("PLG_ROOT/jQuery.qrcode",function(){var e=t||"//m.jd.com/product/"+p.sku+".html?from=qrcode";$("#summary-mbuy .qrcode").html("").jdQrcode({render:"image",ecLevel:"L",size:145,text:e})})},handleMBuy:function(t){var e=this;$.ajax({url:"//pm.3.cn/prices/pcpmgets",data:{skuids:this.sku,origin:2,source:1,area:this.ipLoc},dataType:"jsonp",success:function(i){var o="\u6682\u65e0\u62a5\u4ef7";i&&i.length&&i[0].p&&i[0].pcp&&(o=Number(i[0].pcp)>Number(i[0].p)?i[0].p:null,e.initMBuy(t,o))}})},initMBuy:function(t,e){var i=this,o=$("#prom-mbuy"),n=$("#summary-mbuy"),s=o.attr("data-url");if(!t.prom)return o.html(""),n.remove(),!1;this.promCount++;var a='            <div class="mob-buy J-prom-mbuy">                <em class="hl_red_bg">\u624b\u673a\u4e13\u4eab\u4ef7</em>                <span class="hl_red J-m-price">&#12288;\uffe5</span>                <span class="qrcode-wrap">                    <span class="hl_blue">&#12288;&#12288;\u53bb\u624b\u673a\u8d2d\u4e70</span>                    <span class="icon"><s></s><b></b></span>                </span>            </div>',r='            <div id="summary-mbuy" class="hide">                <i></i>                <div class="qrcode">                    <div class="loading-style1"><b></b>\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u5019...</div>                </div>            </div>';o.html(a),n.length||($(".summary").eq(0).append(r),n=$("#summary-mbuy"));var m=$(".J-prom-mbuy .qrcode-wrap"),p="mob-buy-curr",d=null,c=null,l=$(".J-m-price");return e?(l.html("\uffe5"+e),m.add(n).unbind("mouseenter mouseover mouseleave mouseout"),m.hover(function(){clearTimeout(c),m.parent(".J-prom-mbuy").addClass(p),n.show();var t=$(".J-prom-mbuy").offset().top,e=$(".summary").offset().top,o=t-e+36;return n.css("top",o),i.qrcodeLoaded||i.loadQrcode(s),!1},function(){d=setTimeout(function(){m.parent(".J-prom-mbuy").removeClass(p),n.hide()},100)}),n.hover(function(){clearTimeout(d)},function(){c=setTimeout(function(){m.parent(".J-prom-mbuy").removeClass(p),n.hide()},100)}),void this.setFoldLayer()):o.html("")},showPromotion:function(){var t=this.promCount>0||c.haveProAdv,e=this.promCount>this.maxPromCount,i="z-has-more-promotion";t?this.$el.show():this.$el.hide(),e?this.$darkBgEl.addClass(i):this.$darkBgEl.removeClass(i)},setFoldLayer:function(){var t="z-promotions-all-show",e=this,i=$("#summary-promotion");e.promCount>2?(e.$moreProm.css("visibility","visible"),e.$wrap.bind("mouseenter",function(){i.addClass(t)}).bind("mouseleave",function(){i.removeClass(t)})):(e.$moreProm.css("visibility","hidden"),e.$wrap.unbind("mouseenter mouseleave")),e.showPromotion(),e.appendTagsToPromTags()},appendTagsToPromTags:function(){var t=this,e=$(".J-more-prom-ins");e.length?e.html(""):e=$('<div class="J-more-prom-ins more-prom-ins"></div>');var i=t.$wrap.find(".hl_red_bg"),o=i.length,n="";if(!(2>=o)){for(var s=1;o>s;s++)n+='<em class="hl_red_bg">'+$(i[s]).html()+"</em>";e.append(n);var a=i.eq(0).parents(".prom-item");0==a.length&&(a=i.eq(0).parents("ins")),a.after(e)}},clear:function(){$("#product-gifts,#prom,#product-prom-ext,#product-tips").remove(),$("#summary-promotion,#summary-promotion-extra,#summary-gifts,#summary-tips").hide()}},l=function(t,e){function i(){r.priceNum({skus:[e.skuid],text:"{NUM}",pdbp:1}),$.closeDialog()}new d({onError:function(){i()},onComplete:function(t){601==t?i():602==t?this.showMessage("\u9a8c\u8bc1\u7801\u9519\u8bef!"):this.hideMessage()}})},u=function(t){function e(){r.priceNum({$el:$(".J-summary-price"),skus:[t.skuid],text:"{NUM}",callback:function(t,e){var i="";if(e){var o=e.p,n=e.m,s=e.op,a=Number(o),r=Number(n);pageConfig.product.jp=a,pageConfig.product.mp=r,a>0&&(i="\uffe5"+o,$("#summary-price .p-discount").html(p.discount(a,r)),$("#page_dpprice").html("\uffe5"+parseFloat(r).toFixed(2))),s&&$("#page_opprice").html("\uffe5"+parseFloat(s).toFixed(2))}i||(i="\u6682\u65e0\u62a5\u4ef7"),m.fire({type:"onPriceReady",price:e})},onReady:function(e){e&&e.error&&"pdos_captcha"==e.error&&l(e,t)}})}m.addListener("onAreaChange",e),e()},h=function(t){if(t.isFeeType){/debug=txb/.test(location.href)&&(t.proms=['<ins id="prom-bvalue"><div class="J-prom-bvalue"><em class="hl_red_bg">\u901a\u4fe1B</em><em class="hl_red">\u4eac\u4e1c\u901a\u4fe1\u7528\u6237\u900197\u4e2a\u901a\u4fe1B</em><a href="//sale.jd.com/act/mA8nbHJMU2.html" target="_blank">&nbsp;&nbsp;\u8be6\u60c5 <s class="s-arrow">&gt;&gt;</s></a></div></ins>']);var e=t.proms,i=e&&e.length,o=$("#prom-quan");if(i)for(var n=0;n<e.length;n++)o.after(e[n])}},f=function(t){$(".comment-count a").attr("href","#none").bind("click",a.goToComment),r.commentMeta({skus:[t.skuid],$el:$(".summary-price-wrap"),text:"{NUM}",callback:function(e,i){t.commentMeta=i,m.fire({type:"onCommentMeta",commentMeta:i}),$("#detail .tab-main s").html("("+i.CommentCountStr+")").show(),$(".summary-price .count").unbind("click").bind("click",function(){return $("body,html").scrollTop($("#comment").offset().top-50),!1})}})},g=function(t){function e(t){for(var e="",i=0;i<t.length;i++){if(5==i){e+="<div>\u2026\u2026</div>";break}e+="<div>"+t[i].name+"\uff1a"+t[i].value+"</div>"}s.ETooltips({close:!1,content:e,width:150,pos:"bottom",zIndex:10})}function i(t){s.html(t.xgzs)}function o(){$.ajax({url:"//c.3.cn/product/tag?skuIds="+t.skuid,dataType:"jsonp",success:function(t){if(t&&t.items&&t.items.length){var o=t.items[0];e(o.detail),i(o),n.show()}else n.hide()}})}var n=$("#buy-rate"),s=n.find(".count");n.length&&o()};module.exports.__id="prom",module.exports.init=n,module.exports.Promotions=c,module.exports.getPrice=u});